{"ast":null,"code":"'use strict';\n\nvar _ = require('lodash');\n\nvar Request = function (opts) {\n  opts = opts || {};\n  this.method = opts.method || this.ANY;\n  this.url = opts.url || this.ANY;\n  this.auth = opts.auth || this.ANY;\n  this.params = opts.params || this.ANY;\n  this.data = opts.data || this.ANY;\n  this.headers = opts.headers || this.ANY;\n  this.ca = opts.ca;\n};\n\n_c = Request;\nRequest.prototype.ANY = '*';\n\nRequest.prototype.attributeEqual = function (lhs, rhs) {\n  if (lhs === this.ANY || rhs === this.ANY) {\n    return true;\n  }\n\n  lhs = lhs || undefined;\n  rhs = rhs || undefined;\n  return _.isEqual(lhs, rhs);\n};\n\nRequest.prototype.isEqual = function (other) {\n  return this.attributeEqual(this.method, other.method) && this.attributeEqual(this.url, other.url) && this.attributeEqual(this.auth, other.auth) && this.attributeEqual(this.params, other.params) && this.attributeEqual(this.data, other.data) && this.attributeEqual(this.headers, other.headers);\n};\n\nRequest.prototype.toString = function () {\n  var auth = '';\n\n  if (this.auth && this.auth !== this.ANY) {\n    auth = this.auth + ' ';\n  }\n\n  var params = '';\n\n  if (this.params && this.params !== this.ANY) {\n    params = '?' + _.join(_.chain(_.keys(this.params)).map(function (key) {\n      return key + '=' + this.params[key];\n    }.bind(this)).value(), '&');\n  }\n\n  var data = '';\n\n  if (this.data && this.data !== this.ANY) {\n    if (this.method === 'GET') {\n      data = '\\n -G';\n    }\n\n    data = data + '\\n' + _.join(_.map(this.data, function (value, key) {\n      return ' -d ' + key + '=' + value;\n    }), '\\n');\n  }\n\n  var headers = '';\n\n  if (this.headers && this.headers !== this.ANY) {\n    headers = '\\n' + _.join(_.map(this.headers, function (value, key) {\n      return ' -H ' + key + '=' + value;\n    }), '\\n');\n  }\n\n  return auth + this.method + ' ' + this.url + params + data + headers;\n};\n\nmodule.exports = Request;\n\nvar _c;\n\n$RefreshReg$(_c, \"Request\");","map":{"version":3,"sources":["/Users/tony_niu/Visual Studio/Twilio/twilio-video-starter-kit/src/token-service/node_modules/twilio/lib/http/request.js"],"names":["_","require","Request","opts","method","ANY","url","auth","params","data","headers","ca","prototype","attributeEqual","lhs","rhs","undefined","isEqual","other","toString","join","chain","keys","map","key","bind","value","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar _ = require('lodash');\n\nvar Request = function(opts) {\n  opts = opts || {};\n\n  this.method = opts.method || this.ANY;\n  this.url = opts.url || this.ANY;\n  this.auth = opts.auth || this.ANY;\n  this.params = opts.params || this.ANY;\n  this.data = opts.data || this.ANY;\n  this.headers = opts.headers || this.ANY;\n  this.ca = opts.ca;\n};\n\nRequest.prototype.ANY = '*';\n\nRequest.prototype.attributeEqual = function(lhs, rhs) {\n  if (lhs === this.ANY || rhs === this.ANY) {\n    return true;\n  }\n\n  lhs = lhs || undefined;\n  rhs = rhs || undefined;\n\n  return _.isEqual(lhs, rhs);\n};\n\nRequest.prototype.isEqual = function(other) {\n  return (this.attributeEqual(this.method, other.method) &&\n      this.attributeEqual(this.url, other.url) &&\n      this.attributeEqual(this.auth, other.auth) &&\n      this.attributeEqual(this.params, other.params) &&\n      this.attributeEqual(this.data, other.data) &&\n      this.attributeEqual(this.headers, other.headers));\n};\n\nRequest.prototype.toString = function() {\n  var auth = '';\n  if (this.auth && this.auth !== this.ANY) {\n    auth = this.auth + ' ';\n  }\n\n  var params = '';\n  if (this.params && this.params !== this.ANY) {\n    params = '?' + _.join(_.chain(_.keys(this.params))\n      .map(function(key) { return key + '=' + this.params[key]; }.bind(this))\n      .value(), '&');\n  }\n\n  var data = '';\n  if (this.data && this.data !== this.ANY) {\n    if (this.method === 'GET') {\n      data = '\\n -G';\n    }\n\n    data = data + '\\n' + _.join(\n      _.map(this.data, function(value, key) {\n        return ' -d ' + key + '='  + value;\n      }), '\\n');\n  }\n\n  var headers = '';\n  if (this.headers && this.headers !== this.ANY) {\n    headers = '\\n' + _.join(\n      _.map(this.headers, function(value, key) {\n        return ' -H ' + key + '='  + value;\n      }), '\\n');\n  }\n\n  return auth + this.method + ' ' + this.url + params + data + headers;\n};\n\nmodule.exports = Request;\n"]},"metadata":{},"sourceType":"module"}